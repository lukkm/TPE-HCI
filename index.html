<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>travel.ly</title>
        <link rel="stylesheet" href="css/normalize.css"/>
        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" type="text/css" href="css/ui-lightness/jquery-ui-1.8.24.custom.css" />
        <link rel="stylesheet" type="text/css" href="js/libs/fancybox/jquery.fancybox.css" media="screen"/>
        <link rel="stylesheet" href="js/libs/fancybox/helpers/jquery.fancybox-buttons.css" type="text/css" media="screen" />
        <link rel="stylesheet" href="js/libs/fancybox/helpers/jquery.fancybox-thumbs.css" type="text/css" media="screen" />
        <link rel="shortcut icon" type="image/png" href="img/favicon.png" />
        <script type="text/javascript" src="js/libs/jquery.js"></script>
        <script type="text/javascript" src="js/libs/jquery-ui.js"></script>
        <script type="text/javascript" src="js/libs/jquery.ui.datepicker-es.js"></script>
        <script type="text/javascript" src="js/libs/jquery.qtip.js"></script>
        <script type="text/javascript" src="js/libs/fancybox/jquery.fancybox.pack.js"></script>
        <script type="text/javascript" src="js/libs/fancybox/helpers/jquery.fancybox-buttons.js"></script>
        <script type="text/javascript" src="js/libs/fancybox/helpers/jquery.fancybox-media.js"></script>
        <script type="text/javascript" src="js/libs/fancybox/helpers/jquery.fancybox-thumbs.js"></script>
        <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript" src="js/libs/moment.js"></script>
        <script type="text/javascript" src="js/libs/underscore.js"></script> 
        <script type="text/javascript" src="js/libs/backbone.js"></script>
        <script type="text/javascript" src="js/libs/backbone-validation.js"></script>
        <script type="text/javascript" src="js/libs/handlebars.js"></script>
        <script type="text/javascript" src="js/api.js"></script>
        <script type="text/javascript" src="js/widgets.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/base.js"></script>

        <script type="text/x-handlebars-template" class="partial" id="flight">
            <div class="search-result">
                <div class="search-result-container">
                    {{#if outboundRoutes}}
                        <div class = "search-result-header">
                            <div class="search-result-info">{{departure.cityName}} ({{departure.airportId}})</div>
                            <div class="search-result-icon"><img src="img/green-plane.png"></div>
                            <div class="search-result-info">{{arrival.cityName}} ({{arrival.airportId}})</div>
                        </div>
                        <div class="search-result-title">{{outboundDate}}</div>
                        <table>
                        {{#outboundRoutes}}
                                <tr>
                                    <td class="radio-col"><input type="radio" name="outbound-{{id}}"/></td>
                                    <td class="text-col">Departs</td>
                                    <td class="datetime-col"><strong>{{departure.time}}</strong></td>
                                    <td class="text-col">Arrives</td>
                                    <td class="datetime-col"><strong>{{arrival.time}}</strong></td>
                                    <td class="text-col">Duration</td> 
                                    <td class="datetime-col"><strong>{{duration}}</strong></td>
                                    <td class="scales-col"><a href="#stopovers-outbound-{{id}}" class="fancybox" data-id="{{id}}" data-flightid="{{../flightId}}">{{stopovers}}</a></td>
                                    <div id="stopovers-outbound-{{id}}" class="stopovers">
                                        <h2>Stopovers</h2>
                                        {{#segments}}
                                        <div class="stopover">
                                            <div class="stopover-title">Flight: {{flightNumber}} - Class: {{cabinType}}</div>
                                            <div class="stopover-stop">
                                                <span class="stopover-airport"><strong>Departs from:</strong> {{departure.airportDescription}}</span>
                                                <span class="stopover-datetime">{{departure.formatedDate}}, {{departure.formatedTime}}</span>
                                            <div>
                                            <div class="stopover-stop">
                                                <span class="stopover-airport"><strong>Arrives to:</strong> {{arrival.airportDescription}}</span>
                                                <span class="stopover-datetime">{{arrival.formatedDate}}, {{arrival.formatedTime}}</span>
                                            </div>
                                        </div>
                                        {{/segments}}
                                        <div class="stopover-total-duration">Total duration: {{duration}}</div>
                                        <div id="map-canvas-outbound-{{id}}" class="map-canvas"></div>
                                    </div>
                                </tr>
                        {{/outboundRoutes}}
                        </table>
                    {{/if}}
                    {{#if inboundRoutes}}
                        <div class = "search-result-header">
                            <div class="search-result-info">{{departure.cityName}} ({{departure.airportId}})</div>
                            <div class="search-result-icon"><img src="img/blue-plane.png"></div>
                            <div class="search-result-info">{{arrival.cityName}} ({{arrival.airportId}})</div>
                        </div>
                        <div class="search-result-title">{{inboundDate}}</div>
                         <table>
                        {{#inboundRoutes}}
                                <tr>
                                    <td class="radio-col"><input type="radio" name="inbound-{{id}}"/></td>
                                    <td class="text-col">Depart</td> 
                                    <td class="datetime-col"><strong>{{departure.time}}</strong></td>
                                    <td class="text-col">Arrives</td> 
                                    <td class="datetime-col"><strong>{{arrival.time}}</strong></td>
                                    <td class="text-col">Duration</td> 
                                    <td class="datetime-col"><strong>{{duration}}</strong></td>
                                    <td class="scales-col"><a href="#stopovers-inbound-{{id}}" class="fancybox" data-id="{{id}}" data-flightid="{{../flightId}}">{{stopovers}}</a></td>
                                     <div id="stopovers-inbound-{{id}}" class="stopovers">
                                        <h2>Stopovers</h2>
                                        {{#segments}}
                                        <div class="stopover">
                                            <div class="stopover-title">Flight: {{flightNumber}} - Class: {{cabinType}}</div>
                                            <div class="stopover-stop">
                                                <span class="stopover-airport"><strong>Departs from:</strong> {{departure.airportDescription}}</span>
                                                <span class="stopover-datetime">{{departure.formatedDate}}, {{departure.formatedTime}}</span>
                                            <div>
                                            <div class="stopover-stop">
                                                <span class="stopover-airport"><strong>Arrives to:</strong> {{arrival.airportDescription}}</span>
                                                <span class="stopover-datetime">{{arrival.formatedDate}}, {{arrival.formatedTime}}</span>
                                            </div>
                                        </div>
                                        {{/segments}}
                                        <div class="stopover-total-duration">Total duration: {{duration}}</div>
                                        <div id="map-canvas-inbound-{{id}}" class="map-canvas"></div>
                                    </div>
                                </tr>
                        {{/inboundRoutes}}
                        </table>
                    {{/if}}
                </div>
                <div class="search-result-price">
                    <div class="price-text">
                        {{#with price}}
                        <ul>
                            {{#if adults}}
                            <li>
                                <span class="label">Adults:</span>
                                <span class="value">{{adults.quantity}} x $ {{{currency adults.baseFare}}}</span>
                            </li>
                            {{/if}}
                            {{#if children}}
                            <li>
                                <span class="label">Children:</span>
                                <span class="value">{{children.quantity}} x $ {{{currency children.baseFare}}}</span>
                            </li>
                            {{/if}}
                            {{#if infants}}
                            <li>
                                <span class="label">Infants:</span>
                                <span class="value">{{children.quantity}} x $ {{{currency infants.baseFare}}}</span>
                            </li>
                            {{/if}}
                        </ul>
                        <h6 class="title">Total</h6>
                        <ul>
                            <li>
                                <span class="label">Charges:</span>
                                <span class="value">$ {{{currency total.charges}}</span>
                            </li>
                            <li>
                                <span class="label">Fare:</span>
                                <span class="value">$ {{{currency total.fare}}}</span>
                            </li>
                            <li>
                                <span class="label">Taxes:</span>
                                <span class="value">$ {{{currency total.taxes}}}</span>
                            </li>
                        </ul>
                        <span class="total">$ {{{currency total.total}}}</span>
                        {{/with}}
                    </div>
                    <a href="#buy/{{flightId}}" class="button button-small">Select</a>
                </div>
            </div>
        </script>
        <script type="text/x-handlebars-template" id="search-results">
            <div class="search-results-header">
                <div class="count">{{pagination.total}} flights found</div>
                <div class="sorting">
                    <span>Sort by:</span>
                    <select name="sort" id="sort">
                        <option value="total asc">Total - Low to High</option>
                        <option value="total desc">Total - Hight to Low</option>
                        <option value="airline asc">Airline - A to Z</option>
                        <option value="airline desc">Airline - Z to A</option>
                        <option value="duration asc">Duration - Shorter</option>
                        <option value="duration desc">Duration - Longer</option>
                        <option value="fare asc">Fare - Low to High</option>
                        <option value="fare desc">Fare - High to Low</option>
                        <option value="stopovers asc">Stops - Less</option>
                        <option value="stopovers desc">Stops - More</option>
                    </select>
                </div>
            </div>
            <div class="search-results" id="search-results">
            {{#each flights}}
                {{> flight}}
            {{/each}}
            </div>
            <div class="pagination">
                {{{pagination pagination}}}
            </div>
        </script>
        <script type="text/x-handlebars-template" id="filter-airline">
            <div class="filter">
                <label for="airline">Airline</label>
                {{#each airlines}}
                    <div class="check">
                        <input type="checkbox" value="{{id}}" name="filter-airline" checked /> {{name}}
                    </div>
                {{/each}}
            </div>
        </script>
        <script type="text/x-handlebars-template" id="filter-stopovers">
            <div class="filter">
                <label for="stopovers">Stopovers</label>
                {{#each stopovers}}
                    <div class="check">
                        <input type="checkbox" value="{{id}}" name="filter-airline" /> {{count}}
                    </div>
                {{/each}}
            </div>
        </script>
        <script type="text/x-handlebars-template" id="filter-price">
            <div class="filter">
                <label for="price">Price</label>
                <input type="text" name="price" id="price" />
                <div id="slider-range-price" data-widget="slider" data-target="price" data-min="{{min}}" data-max="{{max}}"></div>
            </div>
        </script>
        <script type="text/x-handlebars-template" id="search-error">
            <div class="search-error">
                <h2>Search error</h2>
                <p>{{message}} (code: {{code}})</p>
            </div>
        </script>
        <script type="text/x-handlebars-template" id="search-loading">
            <div class="search-loading">
                <h2>Searching...</h2>
            </div>
        </script>
    </head>
    <body data-title-base="Travel.ly" data-title-separator=" | ">
        <div class="container"> 
            <div class="wrap">

                <div class="header">
                    <div class="header-title">
                        <h1><a href="#">travel.ly</a></h1>
                    </div>
                    <div class="header-menu">
                        <ul>
                            <li><a href="#">Home</a></li>
                            <li><a href="#about">About</a></li>
                        </ul>
                    </div>
                </div>

                <div class="page" id="page-home">
                    <div class="content-primary">

                        <div class="search-form" id="search-form">
                            <form action=".">
                                <h2>Search flights</h2>
                                <span id="flight-type" data-widget="buttonset">
                                    <input type="radio" id="one-way" name="repeat" value="one-way" /><label for="one-way">One Way</label>
                                    <input type="radio" id="round-trip" name="repeat" value="round-trip" checked="checked" /><label for="round-trip">Round Trip</label>
                                </span>
                                <div class="clearfix"></div>
                                <div class="search-input-container">
                                    <label for="from-user">From</label>
                                    <input type="text" name="from-user" id="from-user" data-validate="required" data-widget="autocomplete" data-source="places" data-bind="from" />
                                    <input type="hidden" name="from" id="from" />
                                </div>
                                <div class="search-input-container">
                                    <label for="to-user">To</label>
                                    <input type="text" name="to-user" id="to-user" data-validate="required" data-widget="autocomplete" data-source="places" data-bind="to" />
                                    <input type="hidden" name="to" id="to" />
                                </div>
                                <div class="column-2">
                                    <div class="search-input-container">
                                        <label for="departure-date-user">Depart</label>
                                        <input type="text" id="departure-date-user" name="departure-date-user" data-widget="datepicker" data-bind="dep_date" placeholder="dd/mm/aaaa" />
                                        <input type="hidden" name="dep_date" id="dep_date" value="" />
                                    </div>
                                    <div class="search-input-container">
                                        <label for="return-date-user">Return</label>
                                        <input type="text" name="return-date-user" id="return-date-user" data-widget="datepicker" data-bind="ret_date" placeholder="dd/mm/aaaa" />
                                        <input type="hidden" name="ret_date" id="ret_date" value="" />
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="search-input-container">
                                    <label for="adults">Number of adults</label>
                                    <select name="adults" id="adults" data-range-start="1" data-range-end="9" data-selected="1"></select>
                                </div>
                                <div class="search-input-container">
                                    <label for="children">Number of children <span class="hint">(2-11 years)</span></label>
                                    <select name="children" id="children" data-range-start="0" data-range-end="9"></select>
                                </div>
                                <div class="search-input-container">
                                    <label for="infants">Number of infants <span class="hint">(0-2 years)</span></label>
                                    <select name="infants" id="infants" data-range-start="0" data-range-end="9"></select>
                                </div>
                                <div class="submit"> 
                                    <button type="submit" name="search-send" class="button">Search</button>
                                </div>
                            </form>
                        </div>

                        <div class="deals">
                            <div class="deal-title">
                                <div class="deal-title-container">
                                </div>
                                <div class="deal-text">
                                    <h2>Tickets to Panama</h2>
                                    <p>From US$ 2,400</p>
                                </div>
                            </div>
                        </div>

                        <div class="newsletter-subscribe">
                            <p>Subscribe to our newsletter:</p>
                            <form action="." method="post">
                                <input type="text" name="email" value="" />
                                <button class="button button-small">Subscribe</button>
                            </form>
                        </div>

                    </div>
                </div>

                <div class="page" id="page-search" data-title="Search Results">
                    <div class="search-filters">
                        <h2>Filter results</h2>
                        <form action="." class="filter-form" id="filter-form">
                            <div class="filter">
                                <label for="from-filter">From</label>
                                <input type="text" name="from-filter" id="from-filter" class="filter-form-input-field" data-widget="autocomplete" data-source="places" data-from="from-user" />
                            </div>
                            <div class="filter">
                                <label for="to-filter">To</label>
                                <input type="text" name="to-filter" id="to-filter" class="filter-form-input-field" data-widget="autocomplete" data-source="places" data-from="to-user" />
                            </div>
                            <div class="filter">
                                <label for="departure-date-filter">Depart</label>
                                <input type="text" name="departure-date-filter" id="departure-date-filter" class="filter-form-input-field" data-widget="datepicker" data-from="departure-date-user" />
                            </div>
                            <div class="filter">
                                <label for="return-date-filter">Return</label>
                                <input type="text" name="return-date-filter" id="return-date-filter" class="filter-form-input-field" data-widget="datepicker" data-from="return-date-user"/>
                            </div>
                            <div class="dynamic-filters"></div>
                        </form>
                    </div>
                    <div class="search-wrap">
                    </div>
                </div>

                <div class="page" id="page-about" data-title="About">
                    <div class="sheet">
                        <h1>About travel.ly</h1>
                        <p>travel.ly is the leading site in online flight sales. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus.</p>
                        <p>Hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse.</p>
                        <p>Dictum feugiat nisl ut dapibus. Mauris iaculis porttitor posuere. Praesent id metus massa, ut blandit odio.</p>
                        <p>Proin quis tortor orci. Etiam at risus et justo dignissim congue. Donec congue lacinia dui, a porttitor lectus condimentum laoreet. Nunc eu ullamcorper orci. Quisque eget odio ac lectus vestibulum faucibus eget in metus. In pellentesque faucibus vestibulum. Nulla at nulla justo, eget luctus tortor. Nulla facilisi. Duis aliquet.</p>
                    </div>
                </div>

                <div class="page" id="page-toc" data-title="Terms of Service">
                    <div class="sheet">
                        <h1>Terms of service</h1>
                        <p>Hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse.</p>
                        <p>Dictum feugiat nisl ut dapibus. Mauris iaculis porttitor posuere. Praesent id metus massa, ut blandit odio.</p>
                        <p>Proin quis tortor orci. Etiam at risus et justo dignissim congue. Donec congue lacinia dui, a porttitor lectus condimentum laoreet. Nunc eu ullamcorper orci. Quisque eget odio ac lectus vestibulum faucibus eget in metus. In pellentesque faucibus vestibulum. Nulla at nulla justo, eget luctus tortor. Nulla facilisi. Duis aliquet.</p>
                    </div>
                </div>

                <div class="page" id="page-buy" data-title="Confirm Purchase">
                    <div class="sheet">
                        <div class="nav">
                            <a href="#search" class="button">&larr; Choose other flight</a>
                        </div>
                        <h1>Confirm purchase</h1>
                        <form action="." method="post" id="buy-form">

                            <h3>Passengers</h3>
                            <div class="form-section">
                                <label for="first-name">First Name</label>
                                <input type="text" data-validate="required" name="first-name" id="first-name" value="" />
                                <label for="last-name">Last Name</label>
                                <input type="text" data-validate="required" name="last-name" id="last-name" value="" />
                                <label for="birth-date">Birth Date</label>
                                <input type="text" name="birth-date" id="birth-date" value="" data-widget="datepicker-select" />
                            </div>

                            <h3>Billing</h3>
                            <div class="form-section">
                                <label for="card-number">Card Number</label>
                                <input type="text" data-validate="card-number" name="card-number" id="card-number" value="" />
                                <label for="card-expire-date">Expire Date</label>
                                <input type="text" data-validate="card-expire-date" name="card-expire-date" id="card-expire-date" value="" />
                                <label for="card-security-code">Security Code</label>
                                <input type="text" data-validate="required" name="card-security-code" id="card-security-code" value="" />
                                <label for="card-holder">Holder</label>
                                <input type="text" data-validate="required" name="card-holder" id="card-holder" value="" />
                                <label for="card-document-number">Document Number</label>
                                <input type="text" data-validate="required" name="card-document-number" id="card-document-number" value="" />
                            </div>

                            <h3>Contact Information</h3>
                            <div class="form-section">
                                <label for="email">Email</label>
                                <input type="text" name="email" id="email" value="" />
                                <label for="email-confirm">Confirm Email</label>
                                <input type="text" name="email-confirm" id="email-confirm" value="" />
                                <label for="phone-number">Phone number</label>
                                <input type="text" name="phone-number" id="phone-number" value="" />
                            </div>

                            <div class="form-terms">
                                <input type="checkbox" name="terms" id="terms" value="1" />
                                <label for="terms" class="inline-block-label">I have read and accept the <a href="#tos">terms and conditions</a>.</label>
                            </div>

                            <button type="submit" class="button">Buy</button>

                        </form>

                    </div>
                </div>

                <div class="page" id="page-confirm" data-title="Confirmation">
                    <div class="sheet">
                        <h1>Please confirm the information</h1>

                        <div class="nav">
                            <a data-href-template="#buy/{{flightId}}" href="#" class="button" id="back-purchase">&larr; Back to purchase</a>
                        </div>

                        <h3>Flight</h3>
                        <div class="form-section" id="buy-flight-information">
                            <h4>From</h4>
                            <dl>
                                <dt>Airport</dt>
                                <dd id="confirm-flight-from-airport"></dd>
                                <dt>City</dt>
                                <dd id="confirm-flight-from-city"></dd>
                                <dt>Country</dt>
                                <dd id="confirm-flight-from-country"></dd>
                            </dl>
                            <h4>To</h4>
                            <dl>
                                <dt>Airport</dt>
                                <dd id="confirm-flight-to-airport"></dd>
                                <dt>City</dt>
                                <dd id="confirm-flight-to-city"></dd>
                                <dt>Country</dt>
                                <dd id="confirm-flight-to-country"></dd>
                            </dl>
                        </div>

                        <h3>Passenger</h3>
                        <div class="form-section">
                            <dl id="confirm-information">
                                <dt>First Name</dt>
                                <dd id="confirm-first-name"></dd>
                                <dt>Last Name</dt>
                                <dd id="confirm-last-name"></dd>
                                <dt>Birth Date</dt>
                                <dd id="confirm-birth-date"></dd>
                            </dl>
                        </div>

                        <h3>Billing</h3>
                        <div class="form-section">
                            <dl>
                                <dt>Card</dt>
                                <dd id="confirm-card"></dd>
                                <dt>Card Number</dt>
                                <dd id="confirm-card-number"></dd>
                                <dt>Expire Date</dt>
                                <dd id="confirm-card-expire-date"></dd>
                                <dt>Security Code</dt>
                                <dd id="confirm-card-security-code"></dd>
                                <dt>Holder</dt>
                                <dd id="confirm-card-holder"></dd>
                                <dt>Document Number</dt>
                                <dd id="confirm-card-document-number"></dd>
                            </dl>
                        </div>

                        <h3>Contact Information</h3>
                        <div class="form-section">
                            <dl>
                                <dt>Email</dt>
                                <dd id="confirm-email"></dd>
                                <dt>Phone Number</dt>
                                <dd id="confirm-phone-number"></dd>
                            </dl>
                        </div>
                        <div class="nav">
                            <a href="#thanks" class="button">Confirm</a>
                        </div>
                    </div>
                </div>

                <div class="page" id="page-thanks" data-title="Thank you">
                    <div class="sheet">
                        <div class="form-section">
                            <h1>Thank you for buying with Travel.ly</h1>
                            <div class="nav-home">
                                <a href="#" class="button">Back to Home</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="recommendations">
            <div class="wrap">
                <h2>Search and publish flight recommendations</h2>
                <form action="." method="post" class="comments-form">
                    <div class="search-input-container">
                        <label for="airline">Airline</label>
                        <input type="text" name="airline" id="airline" value="" data-widget="autocomplete" data-source="airlines" />
                    </div>
                    <div class="search-input-container">
                        <label for="flight_number">Flight number</label>
                        <input type="text" name="flight_number" id="flight_number" value="" />
                    </div>
                    <button type="submit" class="button button-small">Find recommendations</button>
                </form>

            </div>
        </div>

        <div class="footer">
            <div class="wrap">
                <p><a href="#about">About</a> | <a href="#privacy">Privacy</a> | <a href="#feedback">Feedback</a> | <a href="#help">Help</a></p>
                <p>&copy; 2012 travel.ly</p>
            </div>
        </div>

    </body>
</html>
